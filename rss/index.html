<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[mike wilcox]]></title><description><![CDATA[mike wilcox]]></description><link>http://localhost:2368/</link><generator>Ghost 0.5</generator><lastBuildDate>Sun, 27 Mar 2016 04:14:40 GMT</lastBuildDate><atom:link href="http://localhost:2368/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Async with redux-saga pt I]]></title><description><![CDATA[<p><a href="https://github.com/yelouafi/redux-saga">Redux-saga</a> offers a new approach for doing async actions in redux applications through the use of <code>Sagas</code>. If you haven't heard of <code>Sagas</code> before it's ok. The concept of a <code>Saga</code> is not new, and can be traced back to 1986 when it was <a href="https://www.cs.princeton.edu/research/techreps/TR-070-87">presented</a> at Princeton University by <code>Hector Garcia-Molina</code> and <code>Kenneth Salem</code>. In a nutshell, <em>a <code>Saga</code> is a long lived transaction that can be broken up into transactions and still executed in a unit.</em> Let's see what this means for us in the context of a <code>redux</code> app.</p>

<p>The good news about this approach for <code>redux</code> apps is that it is minimally obstrusive to a pre-existing <code>redux</code> app. Or, maybe if you're thinking about the cost of re-factoring down the road, it's library-specific code is very isolated. The only places where <code>redux-saga</code> specific code will typically go in an existing <code>redux</code> app is wherever the <code>store</code> is configued (probably <code>configureStore.js</code>). Other than that, your <code>reducers</code> and <code>actions</code> should remain as-is and not have <code>redux-saga</code> specifics.</p>

<p>Now originally how you may have done async was through the middleware pattern and using <code>api</code> and <code>promise</code> middleware. There is also <code>redux-thunk</code> and <code>redux-promise</code> which are modules which give you this capability to dispatch from the action creator itself and handle the promise in the middleware before it is dispatched to the <code>store</code>. To be fair, I've actually liked this pattern and I have found it to be very useful and durable when used in a more real-world like application. But for the sake of learning and growing and trying new things, I wanted to see what <code>redux-saga</code> was all about, so I gave it a try.</p>

<p>The app I used <code>redux-saga</code> on was a TodoMVC app. I wanted to make it feel a little more real-world like, so I added a fake data-store on the server using an npm package called <a href="https://www.npmjs.com/package/nedb">nedb</a>. It's actually pretty cool and it comes as an npm package with no other additional setup required, so that is nice. It feels very mongodb-ish if you've done any work with their NoSQL database.</p>

<p>So essentially in a TodoMVC app, there's a certain amount of things you can do, those things are:</p>

<ul>
<li>fetch todos</li>
<li>add todo</li>
<li>edit todo</li>
<li>delete todo</li>
<li>complete todo</li>
<li>complete all todos</li>
<li>clear completed todos</li>
</ul>

<p>Since each of the above actions will be making calls to the server to save the information in the data-store, each action can have a defined set of action types which will be associated with the async process that happens. This might feel similar to how you are doing async action types already, where you have <code>REQUESTED</code>, <code>SUCCEEDED</code>, and <code>FAILED</code> action types.</p>

<p>First, let's define an <code>api</code> function which will just be responsible for making the request's to the server:</p>

<pre><code class="js">export default function api(url, opts) {  
  return fetch(url, opts)
    .then(function (resp) {
      return resp.json()
    })
    .then(function (resp) {
      return resp
    })
}
</code></pre>

<p><em>sagas/api.js</em></p>

<p>Now let's see what a <code>saga</code> looks like. Here we will first start with fetch todos...</p>

<pre><code class="js">import * as ActionTypes from '../constants/ActionTypes'  
import api from './api'  
import { call, put } from 'redux-saga/effects'  
import { takeLatest } from 'redux-saga'

function* fetchAllTodos(action) {  
  try {
    const todos = yield call(
      api, 
      '/fetch-todos', 
      { 
        method: 'POST', 
        headers: {
          'Accept': 'application/json',
          'Content-Type': 'application/json'
        },
        body: '' 
      }
    )

    yield put({ type: ActionTypes.FETCH_TODOS_SUCCEEDED, todos })
  } catch (e) {
    yield put({ type: ActionTypes.FETCH_TODOS_FAILED, message: e.message })
  }
}

export default function* watchFetchTodos() {  
  yield* takeLatest(ActionTypes.FETCH_TODOS_REQUESTED, fetchAllTodos)
}
</code></pre>

<p><em>sagas/fetch-todos.js</em></p>

<p>There is a lot going on here, so we'll need to disect exactly how this works.</p>

<p>The first thing I want to point out is that this is using generators which is the <code>function*</code> you see in the code. If you're not familiar with <code>generators</code>, you can read up on them <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function*">here</a>.</p>

<p>Next, there is an exported generator function <code>watchFetchTodos</code> that is doing just one thing. Remember when I said that the <code>sagas</code> are really the only place where you'll be using <code>redux-saga</code> specific features. Here is one of those places where we are using <code>takeLatest</code>. This is one of the <a href="http://yelouafi.github.io/redux-saga/docs/basics/UsingSagaHelpers.html">helper methods</a>. Essentially what it is going to do is continually monitor for the <code>FETCH_TODOS_REQUESTED</code> action to have been dispatched somewhere from the application code. The <code>takeLatest</code> here is just making sure that there are not concurrent tasks running for this same action type. If there already was one running which was the same <code>FETCH_TODOS_REQUESTED</code> and another <code>FETCH_TODOS_REQUESTED</code> was introduced to the system, the older one would be cancelled in favor of the latest one that entered. Now, if <code>watchFetchTodos</code> hears a request, it will invoke the <code>fetchAllTodos</code> function. Here it is going to use another <code>redux-saga</code> helper, <code>call</code> to do the asynchronous task of calling the api function we defined above with our endpoint and additional options we'd like to pass to it. The <code>const todos = yield call(...)</code> means that once the <code>call</code> is resolved, we should get a result back and stored into <code>todos</code>. Once this happens, the code in <code>fetchAllTodos</code> will continue executing where it left off which is to next invoke the <code>FETCH_TODOS_SUCCEEDED</code> action in case of a <code>SUCCESS</code> or <code>FETCH_TODOS_FAILED</code> in case of a <code>FAILURE</code>. Here we are using another helper method, <code>put</code>, which is analogous to <code>dispatch</code> in <code>redux</code> in that it will dispatch these actions to the store with passed data.</p>

<p>So that describes a single async workflow for a single operation in our TodoMVC app. That wasn't so bad was it? All of the other operations that can be done in this TodoMVC app can follow the same pattern as we just did for the <code>fetch-todos</code> example above. Now, how do we tie this all together and get the <code>sagas</code> turned on in our system? One way is we can export all of the sagas to one place and then export all of those as a single list. For the TodoMVC app, this is what it ended up looking like for me:</p>

<pre><code class="js">export default function* watchMany() {  
  yield [
    fork(watchAddTodo),
    fork(watchEditTodo),
    fork(watchFetchTodos),
    fork(watchDeleteTodo),
    fork(watchCompleteTodo),
    fork(watchCompleteAllTodos),
    fork(watchClearCompletedTodos),
    fork(bootstrap)
  ]
}
</code></pre>

<p><em>sagas/index.js</em></p>

<p>The <a href="http://yelouafi.github.io/redux-saga/docs/advanced/NonBlockingCalls.html">fork</a> function is another <code>redux-saga</code> helper: </p>

<p>"To express non-blocking calls, the library provides another Effect: <code>fork</code>. When we <code>fork</code> a task, the task is started in the background and the caller can continue its flow without waiting for the forked task to terminate."</p>

<p>Lastly, it will need to be configured into the central <code>store</code> using <code>createSagaMiddleware</code>:</p>

<pre><code class="js">import { createStore, applyMiddleware } from 'redux'  
import createSagaMiddleware from 'redux-saga'

import rootReducer from '../reducers'  
import sagas from '../sagas'

export default function configureStore(initialState) {  
  const sagaMiddleware = createSagaMiddleware(
    sagas
  )

  const store = createStore(
    rootReducer, 
    initialState,
    applyMiddleware(sagaMiddleware)
  )

  return store
}
</code></pre>

<p><em>store/configureStore.js</em></p>

<p>One other cool thing I'd like to point out is how to fetch data on the first load of the application. I did this by adding a <code>bootstrap saga</code> which immediately dispatches the <code>fetchTodos</code> action:</p>

<pre><code class="js">import { put } from 'redux-saga/effects'  
import { fetchTodos } from '../actions'

export default function* bootstrap() {  
  yield put(fetchTodos())
}
</code></pre>

<p><em>sagas/bootstrap.js</em></p>

<p>This is nice as no longer does the application need to do any fetching on initialization of the component tree like in <code>componentDidMount</code> if it does not want to. It is possible to let the <code>sagas</code> handle how to pre-fetch data using this approach.</p>

<p>I hope this was helpful in showing the basics of how I added <code>redux-saga</code> to a TodoMVC app. If there was anything that was not clear or something that I could have explained better, or just any feedback in general, I would really appreciate hearing from you. So please let me know by <a href="mailto:mwilcox56@gmail.com">emailing me</a> or <a href="https://twitter.com/mjw56_">tweeting me</a>. The full source code for this is available on <a href="https://github.com/mjw56/todomvc-sagas-example">GitHub</a>.</p>

<p>This is part one in what I plan to make a two part series. In the next series I will go into how to test sagas and also explore how routing can work with <code>redux-saga</code>.</p>

<p>Cheers</p>]]></description><link>http://localhost:2368/using-redux-saga-for-async-in-redux-apps/</link><guid isPermaLink="false">618b4213-26cb-47ee-9e72-088b03ade9d2</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Sun, 27 Mar 2016 04:14:04 GMT</pubDate></item><item><title><![CDATA[git rebase]]></title><description><![CDATA[<p>One of the earliest philosophies I learned when using git was to "commit early and often". A lot of times when I am working on building a feature from scratch, I will make a lot of commits as I am adding new pieces. The nice part about this is the ability to quickly rollback in case something that was added didn't work out as planned. However, once a feature is complete, it might lead to a messy git history with a lot of commits that don't make a lot of sense to the person reviewing the changes.</p>

<p>Luckily git has a tool called <a href="https://git-scm.com/docs/git-rebase">rebase</a>. This tool can be used to "squash" multiple commits into one. You can do this multiple times if necessary and group commits into a single commit that is more descriptive of the high level change which was made.</p>

<p>Here is a basic strategy I like for working on a git repo:</p>

<p>1) Fork the repository that I want to work on to my personal git.</p>

<p>2) Clone this repo to my local hard drive to work on.</p>

<pre><code class="bash">$ git clone https://github.com/YOUR-USERNAME/YOUR-FORKED-REPOSITORY
</code></pre>

<p>3) Create a new branch to work on a new feature so as not to disturb master</p>

<pre><code class="bash">$ git checkout -b my-new-feature
Switched to a new branch 'my-new-feature'  
</code></pre>

<p>4) Build out new feature, fix a bug, update documentation etc.</p>

<p>Once you have completed making your changes, if you feel you have a lot of commits which you would like to converge into one, you can follow the following steps:</p>

<pre><code>$ git rebase -i master
</code></pre>

<p>What this asking git to do is provide the list of commits which are new since checking out the branch from <code>master</code>.</p>

<p><strong>Note</strong>: By default, git will open an interactive guide in the console. This might require that you are familiar with <code>vim</code> to do any editing. If you're more comfortable editing in a text editor, you can tell git to open any command prompts in the editor of you choice. Check out the official documentation to that <a href="https://help.github.com/articles/associating-text-editors-with-git/">here</a>.</p>

<p>After running the command above, you'll get a screen which looks like this:</p>

<pre><code class="bash">pick 21fd26d add search component  
pick 717a3a0 add list component  
pick 40bedc2 fix spelling  
pick eeb6338 fix lint  
pick 1b2d1f3 add tests

# Rebase e99f870..1b2d1f3 onto e99f870 (5 command(s))
#
# Commands:
# p, pick = use commit
# r, reword = use commit, but edit the commit message
# e, edit = use commit, but stop for amending
# s, squash = use commit, but meld into previous commit
# f, fixup = like "squash", but discard this commit's log message
# x, exec = run command (the rest of the line) using shell
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out
</code></pre>

<p>Here you can see that I have made five commits since I checked out <code>my-new-feature</code> branch. What I want to do is merge these five commits into one commit so that it is clean and gives one description of exactly what was done.</p>

<p>As you can see above, git tells us that we can use the squash command to use the commit, but meld it into the previous commit. You'll also notice that the commits are in ascending order, so the first commit which was made is at the top.</p>

<p>So we can squash all commits but the first one. You'll have to manually change the <code>pick</code> to <code>squash</code> or <code>s</code> for short. We could also use <code>fixup</code> or <code>f</code> which acts like <code>squash</code> but it removes the whole commit message. I want to keep the original commit message, so I will stick to <code>s</code> for now. Let's make the change:</p>

<pre><code class="bash">pick 21fd26d add search component  
s 717a3a0 add list component  
s 40bedc2 fix spelling  
s eeb6338 fix lint  
s 1b2d1f3 add tests  
</code></pre>

<p>If you want to update the final commit message, don't worry, we'll be able to do that shortly. One other nice thing we can do is re-order the commits. So, if your list if very big, and you want to group similar commits into a single commit, you can re-order and squash them as necessary.</p>

<p>Save your changes and close the interactive screen. You should be prompted with another screen asking you to confirm your changes:</p>

<pre><code class="bash"># This is a combination of 5 commits.
# The first commit's message is:
add search component

# This is the 2nd commit message:

add list component

# This is the 3rd commit message:

fix spelling

# This is the 4th commit message:

fix lint

# This is the 5th commit message:

add tests

# Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Date:      Sun Mar 20 14:04:52 2016 -0400
#
# rebase in progress; onto e99f870
# You are currently editing a commit while rebasing branch 'my-new-feature' on 'e99f870'.
#
# Changes to be committed:
#    new file:   list-component.js
#    new file:   search-component.js
#    new file:   tests.js
#
</code></pre>

<p>Here is your opportunity to edit any commit messages you would like. I am going to edit the first commit message to give a more descriptive message of what all was done.</p>

<pre><code class="bash"># This is a combination of 5 commits.
# The first commit's message is:
Add Search and List components. Add tests for Search and List.  
</code></pre>

<p>Now I am done, I save this change and exit the interactive session:</p>

<pre><code class="bash"> $ git rebase -i master                                       [14:05:55]
[detached HEAD 5fdad05] Add Search and List components. Add tests for Search and List.
 Date: Sun Mar 20 14:04:52 2016 -0400
 3 files changed, 2 insertions(+)
 create mode 100644 list-component.js
 create mode 100644 search-component.js
 create mode 100644 tests.js
Successfully rebased and updated refs/heads/my-new-feature.  
</code></pre>

<p>Success! We've successfully merged multiple commits into one commit now. </p>

<p>The next step is to push these local changes to the remote server. If you have not pushed any of these changes yet, a simple <code>git push origin my-new-feature</code> should suffice. However, if you have been pushing your changes over a period of time, you'll need to force push to erase the history and only show the new commits. <strong>WARNING!!!</strong> forcing a push can be very dangerous and can lead to overwriting history in the repository. You should only do this if you are working in a local branch which does not contain work that has been shared with other contributors. If you do force a push with commits that other contributors have been working on, you risk erasing their work or getting their branch out of sync. You've been warned! :)</p>

<p>So now you can see that it's possible to clean up a messy commit history and provide nice, clean, descriptive messages. If you've never done this before, I encourage you to first try this out locally on a test repository by adding files and a bunch of commit messages. Then run the <code>rebase</code> command. If you're interested in learning about more in-depth features, check out <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">Rewriting History</a> on the git documentation site.</p>]]></description><link>http://localhost:2368/git-branching-and-rebase/</link><guid isPermaLink="false">45f4081a-e870-42ab-be68-89b3c9d289cf</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Sun, 20 Mar 2016 18:29:36 GMT</pubDate></item><item><title><![CDATA[The Path to JavaScript Ninjutsu Pt I]]></title><description><![CDATA[<p>Here are a five things I think any beginner or intermediate JS developer can do today to become a better JS developer:</p>

<ol>
<li><p>Understand that <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions">functions are first-class objects</a> in JavaScript. Know the difference between <a href="https://javascriptweblog.wordpress.com/2010/07/06/function-declarations-vs-function-expressions/">function declarations and function expressions</a>, and how the JS compiler treats each of these (hoisting).</p></li>
<li><p>Use <a href="http://cryto.net/~joepie91/blog/2015/05/04/functional-programming-in-javascript-map-filter-reduce/">map, filter, and reduce</a> when you need to transform some data. </p></li>
<li><p>Consider using a linter for your project. <a href="http://eslint.org/">ESLint</a> or <a href="https://github.com/palantir/tslint">TSLint</a> are good choices for JS and TS projects. Linters are an easy way to establish code guidelines for a project and can prevent bugs.</p></li>
<li><p>Use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness">strict equality comparisons</a> (=== and !==).</p>

<p><em>Strict equality compares two values for equality. Neither value is implicitly converted to some other value before being compared. If the values have different types, the values are considered unequal. Otherwise, if the values have the same type and are not numbers, they’re considered equal if they have the same value.</em></p></li>
<li><p>Embrace coding in ES6. Whether you're using <a href="https://babeljs.io/">Babel</a> or <a href="http://www.typescriptlang.org/">TypeScript</a>, you can start writing in the next version of JavaScript today. Here is a <a href="https://github.com/lukehoban/es6features/blob/master/README.md">comprehensive list</a> of all the new features. </p>

<p>Some of my favorite new ES6 features include:</p>

<ul><li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#destructuring">destructuring</a></li>
<li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#arrows">arrow functions</a></li>
<li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#modules">modules</a></li>
<li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#template-strings">template strings</a></li>
<li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#default--rest--spread">spread operator</a></li>
<li><a href="https://github.com/lukehoban/es6features/blob/master/README.md#let--const">let + const</a></li></ul></li>
</ol>]]></description><link>http://localhost:2368/the-path-to-javascript-ninjutsu-pt-i/</link><guid isPermaLink="false">12c89b8e-73e4-4a38-a992-e262a0a43fe5</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Mon, 23 Nov 2015 01:06:29 GMT</pubDate></item><item><title><![CDATA[Writing Your First React App]]></title><description><![CDATA[<p>I wrote this medium article to help those coming to react the first time. It goes commit by commit to walkthrough setting up and writing your first React app.</p>

<p>You can find it <a href="https://medium.com/@mjw56/writing-your-first-react-app-3dcade94d38e#.oc3zqee2r">here</a>.</p>

<p>I did a follow-up for writing the same app with TypeScript included. You can find that one <a href="https://medium.com/@mjw56/writing-a-react-app-with-typescript-6f18719fce35#.5ti65br7g">here</a>.</p>

<p>Cheers</p>]]></description><link>http://localhost:2368/writing-your-first-react-app/</link><guid isPermaLink="false">d9f23c44-ea6f-43ed-a674-894edf787bb6</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Mon, 23 Nov 2015 00:27:28 GMT</pubDate></item><item><title><![CDATA[The Developers Guide to the Angular + TypeScript Galaxy]]></title><description><![CDATA[<p>Recently I wrote a tutorial for working with Angular 1.x and TypeScript. I wrote it for some colleagues who had no prior experience with either. </p>

<p>It describes all about the build process and how to setup everything. It goes commit by commit if you wanted to try replicating the same.</p>

<p>You can find it <a href="https://www.gitbook.com/book/mjw56/the-developers-guide-to-the-angular-typescript-ga/details">here</a>.</p>

<p>Cheers</p>]]></description><link>http://localhost:2368/the-developers-guide-to-the-angular-typescript-galaxy/</link><guid isPermaLink="false">09d197b2-6ae6-4911-b0a2-4887a395ab42</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Mon, 23 Nov 2015 00:24:53 GMT</pubDate></item><item><title><![CDATA[Progress Not Perfection]]></title><description><![CDATA[<p>I've had this post half written, sitting in my queue for about 6 months now. I wanted to take some time to complete it, because maybe, it might help someone else out there.</p>

<p>Lately I've been doing a lot of thinking about what it means to be a software engineer, and the amount of time and dedication it takes to hone the skills required for our profession. I wanted to jot down some notes that have been swirling around in my head lately about this topic. My hope is that maybe someone else can relate and maybe it might help someone else who might be starting out and/or someone else who may be in a similar position. In any event, it is helping me to work through some things right now :)</p>

<h2 id="dontquitbeforethemiraclehappens">Don't quit before the miracle happens</h2>

<p>Early on in my career I remember the amount of times I was so overwhelmed with the amount of things I needed to know in order to get a small project up and running. I would spend countless hours late into the night with a broken build, scouring the internet for answers with some cryptic error message. It was fun, but at times it was downright stressful. I didn't give up though, and would eventually get it working. It was a good feeling, and something I wanted to experience again. So I kept up with it.</p>

<p>One thing in particular that I found was that there are a lot of starter kits and projects out there encouraged to get people going with a new tech quickly. While I don't believe that the people who make these have bad intentions (I myself have made a few of these), I do think that they can be confusing to people who might be new to the tech. My advice here would be to find something you are interested in, and focus solely on that piece of tech. What I mean by this is, don't necessarily run to install a yeoman scaffold if you want to learn react or angular2. Maybe just do the bare minimum setup possible when starting. Then, when required, go and bring in another dependency <em>if absolutely required</em>. </p>

<p>Why do I say this? I think when you try to learn something where a lot of the pieces have been put together for you, you tend to think that there is a lot of magic involved where really there isn't. You just need to take the time to understand how each piece connects to the other. Often, you'll get a scaffold up and running, then break something, and have absolutely no idea how to fix it because you don't understand the underlying pieces. Now, one might argue that this is the essence of programming. While I would agree it is true that we must be trained to understand how to be patient enough to disect problems and find underlying bugs, I don't know if the scaffolding route is always the best choice when starting with a brand new technology.</p>

<p>Another thing is that it seems rare to find two developers today who agree on the exact same setup for a given technology. I do think that react has  gotten this correct with their huge adoption of webpack. This made working with react projects very simple and easy, and a majority of the react community agrees around using webpack for their builds. This is a big plus for me, and one of the reasons why I love the react community. However, you need to find what works for you. I think there are a lot of brilliant developers out there giving good advice and suggestions for how to build projects, but what works for them might not necessarily work for you. The opposite is true as well. You need to take the time to gather all the information, try things out for yourself, and make the best decision possible. We're human beings, and a lot the times we're simply going with the best information we have at the time. </p>

<h2 id="softwareandjavascriptframeworkswillalwayschangewithtimetheunderlyingprinciplesarewhatmatters">Software and JavaScript frameworks will always change with time. The underlying principles are what matters.</h2>

<p>With time, perserverance, and a little bit of luck, things do get easier. I believe that once you master one JavaScript framework, you've made it much easier for yourself to learn the next one. Remember that they are all trying to achieve roughly the same goal(s): How to build the best web/mobile/native applications today. They each have their own level of abstractions on top of the underlying rendering target (DOM, native mobile platform, etc.). They're all using core JavaScript at the heart, and if you take the time learn JavaScript you've given yourself a much better chance when you find a bug or something breaks. Learn JavaScript!! Read more code than you write (this can be hard but it is worth it). I've found the React and lodash source code to be wonderful pieces of JavaScript from which to learn how to write beautiful modularized code.</p>

<h2 id="goslowtogofast">Go slow to go fast</h2>

<p>Sometimes it feels like you need to get everything done at once. While it is a lofty goal, the reality is that it's usually always near impossible to do this. It's ok to take the time to step back and re-evaluate the little things you might have missed along the way. With time, once you pickup the fundamental pieces, moving forward and learning the next thing will become that much easier. You'll be able to go faster because you've taken the time to understand the basics.</p>

<h2 id="itsoktonothavealltheanswers">It's OK to not have all the answers</h2>

<p>Asking questions can be one the scariest things to do in our profession. Often times we train ourselves to think that we must know everything and that if we show we don't know something, we are showing that we are weak. I've come to realize that the opposite is true. I think that asking questions is one of the most important things to do in this field. I've found if I'm stumped on something and I ask the question, usually the answer will come before I even finish the sentence. At the same time, always try to teach what you've learned. Give a talk, write a blog post, talk to a co-worker. Often time you'll find that when you try to explain something, you may find out you quite don't understand it as well as you thought you did. This is a great exercise to re-inforce knowledge and make yourself a great programmer!</p>

<p>I hope this helps :)</p>

<p>Cheers</p>]]></description><link>http://localhost:2368/writing-code-on-github-for-30-straight-days/</link><guid isPermaLink="false">39a7fc1b-4352-4da9-b5b1-54615bec945b</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Mon, 23 Nov 2015 00:12:26 GMT</pubDate></item><item><title><![CDATA[Using the Fetch API with Angular 2 Using Zones]]></title><description><![CDATA[<h6 id="notethispostist6monthsoldyoumaynotneedtodothiswithangular2today"><em>Note: This post is ~6 months old. You may not need to do this with Angular2 today.</em></h6>

<p><br></p>

<p>So, you want to use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> in your next Angular 2 app? But you're not quite yet familiar with <a href="https://github.com/angular/zone.js">zones</a> in Angular? You may run into a bit of head scratcher when you see your UI is not updating after your data is fetched.</p>

<p>Recently I was trying to use fetch to get some data and bind that data back to my controller. It looked something like this:</p>

<pre><code class="language-javascript">declare var fetch;

export class API {

    getBooks() {
        return fetch('http://localhost:3001/books')
    }

}
</code></pre>

<pre><code class="language-javascript">import {bootstrap, Component, View, For} from 'angular2/angular2';  
import {bind} from 'angular2/di';  
import {BookList} from './components/book-list/book-list';  
import {API} from './utils/api';

@Component({
    selector:'app',
    injectables: [API]
})
@View({
    directives: [
        BookList,
        For
    ],
    template: 
        '&lt;div&gt;' +
            '&lt;h1&gt;{{name}}&lt;/h1&gt;' +
            '{{lists.length}}' +
        '&lt;/div&gt;'
})
class App {

    name: string;
    lists: any;
    list: any;

    constructor(api: API) {

        api.getBooks()
          .then(r =&gt; r.json())
          .then(r =&gt; {
            this.lists = r;
          });       
    }   
}

bootstrap(App);
</code></pre>

<p>...but, this did not work. I was a bit baffled. I found out we need to use Zones in Angular 2. <a href="https://github.com/angular/zone.js">What is a zone you might ask?</a>:</p>

<pre><code>A Zone is an execution context that persists across async tasks. You can think of it as thread-local storage for JavaScript VMs.  
</code></pre>

<p>So, we'll need to wrap the fetch in <code>Zone.bindPromiseFn</code> so that Angular is aware of the fetch promise and the data is bound to the UI.</p>

<p>Here is how this is implemented:</p>

<pre><code class="language-javascript">declare var fetch, Zone;

export class API {

    getBooks() {        
      return Zone.bindPromiseFn(fetch)('http://localhost:3001/books');
    }

}
</code></pre>

<p>...and now you can fetch data all you want in Angular 2! :)</p>

<p>Cheers</p>]]></description><link>http://localhost:2368/using-fetch-api-with-angular-2/</link><guid isPermaLink="false">dadbeb42-681b-48f0-a397-cebdee28b665</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Fri, 15 May 2015 20:31:55 GMT</pubDate></item><item><title><![CDATA[Design, Composition and Performance]]></title><description><![CDATA[<p>I really enjoyed this talk by Rich Hickey.</p>

<p><a href="http://www.infoq.com/presentations/Design-Composition-Performance">http://www.infoq.com/presentations/Design-Composition-Performance</a></p>]]></description><link>http://localhost:2368/design-composition-and-performance/</link><guid isPermaLink="false">52e163ec-43be-4dc5-beb6-220403e61dd1</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Fri, 15 May 2015 00:48:51 GMT</pubDate></item><item><title><![CDATA[React Native, Flux, & Music :: Part II]]></title><description><![CDATA[<p><img src="http://localhost:2368/content/images/2015/05/react_native.png" alt="react-native"></p>

<p>In this part II follow-up post I will go into more detail about code structure for creating this music app. This app is using the <a href="https://github.com/goatslacker/alt">alt</a> flux library. Essentially the way it is built, is that I wanted to have a player component available to the user at all times from any screen, ala Spotify. The layout could look something like this:</p>

<pre><code class="language-javascript">&lt;Header /&gt;  
&lt;SceneComponent /&gt;  
&lt;PlayerComponent /&gt;  
</code></pre>

<p>where the <code>&lt;PlayerComponent /&gt;</code> gives user access to play/pause track at anytime. When building with components, I wanted this component to be completely standalone, but to be able to get notifications from any component deep in the application routing. Thus, that is where flux comes into the picture.</p>

<p><img src="http://localhost:2368/content/images/2015/05/app_home.png" alt="home-screen"></p>

<p>So as you can see from the picture above, the landing screen is really straightforward. It's just a search box with a button. Notice the black box at the bottom, that is the <code>&lt;PlayerComponent /&gt;</code> which we will be updating via flux. Ok, so you type some artist into the search box and click Search. You'll be re-directed to the next screen with search results.</p>

<p><img src="http://localhost:2368/content/images/2015/05/app_search_results.png" alt="search-results"></p>

<p>What we did was simple <code>fetch</code> using the parameters that user typed in to archive.org search API. </p>

<pre><code class="language-javascript">  getShows: function(query) {

    var query_string = '';

    query.split(' ').map((term,i) =&gt; {
      (i === this.length - 1) ? query_string += term : query_string += term + '+';
    });

    return fetch('http://archive.org/advancedsearch.php?q='+ query_string +'&amp;rows=200&amp;output=json&amp;save=yes#raw')
  },
</code></pre>

<p>What's nice about this is that we get to use the <a href="https://facebook.github.io/react-native/docs/network.html#content">fetch polyfill</a> provided by the facebook team. Keep in mind, all of this code is still running on iOS <a href="https://strongloop.com/strongblog/apples-ios7-native-javascript-bridge/">JavaScriptCore</a>. The results list is displayed using a React Native <a href="https://facebook.github.io/react-native/docs/listview.html#content">ListView</a> component:</p>

<pre><code class="language-javascript">  render: function() {

    var elem = this.state.dataSource.$ListViewDataSource_dataBlob.s1.length &gt; 0 ?
        &lt;ListView
            initialListSize={25}
            dataSource={this.state.dataSource}
            renderRow={this.renderRow}
          /&gt;:
      &lt;ActivityIndicatorIOS
        animating={true}
        style={[styles.centering, {height: 620}]}
        size="small"
      /&gt;
    return (elem);
  },
</code></pre>

<p>Here I am checking if I have gotten any results back yet. If I haven't, I displayed the <a href="https://facebook.github.io/react-native/docs/activityindicatorios.html#content">ActivityIndicatorIOS</a> otherwise I displayed all of the results in a <code>ListView</code>.</p>

<p>Now, the user gets the nice native scroll feel when they are browsing through the shows list. Next, the user can select an album which will open a track list view:</p>

<p><img src="http://localhost:2368/content/images/2015/05/app_song_list-1.png" alt="song-list"></p>

<p>Again, nothing too complicated going on here. We are just listing out some more results in a <code>ListView</code>. I have to do some more fancy work to get the actual tracks from the show id. What I do is pass in the selected show's id to the next view and use that to grab the songs for that show:</p>

<pre><code class="language-javascript">    umphAPI.getShowMetaData('https://archive.org/metadata/' + this.props.identifier)
    .then(r =&gt; {
      var data = JSON.parse(r._bodyText).files.filter(d =&gt; {
        return d.format === 'VBR MP3';
      });

      if(data.length === 0) return;

      var tracks = sortByAll(data, ['name']),
          dir = JSON.parse(r._bodyText).dir

      this.setState({
        dir: dir,
        loading: false,
        dataSource: this.state.dataSource.cloneWithRows(tracks),
        currentTrack: {
          url: 'https://archive.org' + dir + '/' + tracks[0].name,
          index: 0
        },
        tracks: tracks
      })

    });
</code></pre>

<p>Next, the user can select a song that they would like to hear. Here is where <a href="https://facebook.github.io/flux/docs/overview.html#content">flux</a> comes into the picture. So basically I have the player component alive at all times sitting down at the bottom of the app. It's waiting to hear a push from the <code>PlayerStore</code> that a track has been selected from an album.</p>

<pre><code class="language-javascript">  componentDidMount: function() {
    this.listenTo(PlayerStore, this._onChange)

    var state = PlayerStore.getState()

    if(!state) return;

    this.setState({
      song: (state.tracks[state.index] || {}).title,
      playing: state.playing || false
    })

  },
</code></pre>

<p>When it hears that a track has been selected it goes and grabs it from the store and displays that data. Also, I have the actual component which is playing the audio sitting in the root most level of the app. It is listening for the exact same message from the <code>PlayerStore</code>. When it hears it, it goes and grabs the latest audio track so that it can load that URL into the player so that the audio starts playing:</p>

<pre><code class="language-javascript">&lt;View&gt;  
  &lt;Home navigator={this.props.navigator} /&gt;

  { this.state.currentTrack.url !== '' ?
  &lt;Video source={{uri: this.state.currentTrack.url}}
         rate={1.0}
         volume={1.0}
         muted={false}
         paused={!this.state.playing}
         resizeMode="contain"
         repeat={false}
         style={styles.backgroundVideo}
         onLoad={this._onLoad}
         onEnd={this._onEnd} /&gt; : null }
&lt;/View&gt;  
</code></pre>

<p>I know what you're probably thinking, a Video component to play audio? Oddly enough, this component uses <code>AVPlayer</code> which handles audio great. At the time that I had made this, a standalone audio component had not yet been built. This video component is actually really nice, go <a href="https://github.com/brentvatne/react-native-video">check it out</a>.</p>

<p>So, we selected the Nothing Too Fancy track from the show list. An action was dispatched through the dispatcher and into the <code>PlayerStore</code> where a change was emitted to any listeners. The <code>CurrentTrack</code> and <code>Video</code> component both heard these changes, and the track data was updated and the audio started playing!</p>

<p><img src="http://localhost:2368/content/images/2015/05/app_playing.png" alt="audio-playing"></p>

<p>Great success! I hope you found this post entertaining, Cheers!</p>]]></description><link>http://localhost:2368/react-native-flux-music-part-ii/</link><guid isPermaLink="false">d4929005-9be0-40d9-9c3c-fdaaf11c8cc9</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Wed, 13 May 2015 23:52:38 GMT</pubDate></item><item><title><![CDATA[React Native, Flux, & Music :: Part I]]></title><description><![CDATA[<p><img src="http://localhost:2368/content/images/2015/05/react_native.png" alt="react-native"></p>

<p>React Native is almost 2 months old since it was released publicly in March. It's amazing what this framework provides to JavaScript development community. Kudos to the facebook engineers and the OSS community! When it was first released I had to get my hands on it and build an app. In this first installment post I want to walk through my experience and share with you what I discovered. I built an app that plays audio from the archive.org website. It was a really nice experience and I'm really pleased with the way it turned out for the amount of time that I spent working on it. Overall, React Native is awesome and very promising. I'm really excited for what the future of JavaScript holds! =) In this first segment, I am going to discuss getting started with Navigation. In future segments I will discuss code structure, adding flux to your app, and playing music with plugin modules.</p>

<p><img src="http://localhost:2368/content/images/2015/05/demo.gif" alt="screen"></p>

<p>So where should you start when writing a React Native app? I think one of the most important decisions for me was Navigation. How is my app going to feel? How will users get back and forth between views in my app? If you're like me, you may have jumped over to the React Native <a href="https://facebook.github.io/react-native/docs/getting-started.html">docs</a> page to check out what your options are. Quickly, you'll see that there are two options for Navigation: <code>Navigator</code> and <code>NavigatorIOS</code>. So which one should you choose? Well, if you want to adhere strictly to the IOS navigation and get the "truest" sense of iOS navigation, I would suggest using <code>NavigatorIOS</code> which wraps UIKit navigation. However, if you're looking for something custom with a little more flexibility that still looks and feels nice, you can go with <code>Navigator</code>. For this example app I am going to use <code>Navigator</code> as I've grown to be most comfortable with it in the past few weeks.</p>

<p>So how does <code>Navigator</code> actually work? What do I need to do to get started? Well, one main thing to get down is that it refers to "pages" in your app as scenes. So say you have a home scene that may have only a text input and a button. This would be one scene in your app. Then maybe you have a search results list view, that would be another scene. Navigator will keep track of the routes internally and push, pop as required. It does all the hard work for you. So the next thing you may be thinking is, how does it animate, what are my options? Navigator already has some built in animations for when transitioning between scenes. They are: </p>

<pre><code class="language-javascript">PushFromRight  
FloatFromRight  
FloatFromBottom  
HorizontalSwipeJump  
</code></pre>

<p>So basically how <code>Navigator</code> works is that it will sit in the parent component, if you're starting a boilerplate app the parent component is inside <code>index.ios.js</code>. Inside here you will need to import the <code>Navigator</code> component from the React library. One important thing to note is that <code>Navigator</code> has a few important props for handling how scenes in your app are setup and displayed. The first important one is <code>initialRoute</code> which bascially handles the base route for your app. It may look like this:</p>

<pre><code class="language-javascript">initialRoute={{  
  component: MusicApp,
  navigationBar: &lt;NavigationBar title="Music App" /&gt;,
  title: 'Music App',
}}
</code></pre>

<p>here we provide it a React component and here I am using a RN custom component <a href="https://github.com/Kureev/react-native-navbar">react-native-navbar</a> as my navbar. It's not required that you use <code>react-native-navbar</code> and you can roll your own. There are some good examples over in the offical RN <a href="https://github.com/facebook/react-native/tree/master/Examples/UIExplorer/Navigator">Examples repo</a>. For the sake of getting something up quickly and looks nice in the app, I found that react-native-navbar did the job just fine.</p>

<p>The next important prop for <code>Navigator</code> is <code>renderScene</code>. This function will get called everytime you push or pop to the Navigation stack. Essentially, it's job is to setup the scene when your user is going backwards or forwards. So, you would provide a function to your <code>renderScene</code> prop: <code>renderScene={this.renderScene}</code>.</p>

<p>Now, here is an example of how I have done a <code>renderScene</code>,</p>

<pre><code class="language-javascript">renderScene(route, navigator) {  
  var Component = route.component;
  var navBar = route.navigationBar;

  if (navBar) {
    navBar = React.addons.cloneWithProps(navBar, {
      navigator: navigator,
      route: route
    });
  }

  return (
    &lt;View style={styles.navContainer}&gt;

      {navBar}
      &lt;Component navigator={navigator} {...route.props} /&gt;
      &lt;CurrentTrack /&gt;
    &lt;/View&gt;
  );

},
</code></pre>

<p>There's a lot going on up there so let's take it line by line. As you can see, the renderScene function is always called with the route that you are transitioning to and the navigator component itself. When this function is called, we can grab the next component off the route object and if it has a navbar we can get that too. I'll get to what that looks like when your push a route down below in just a little bit. But let's finish with this <code>renderScene</code> function. So what we do next is check if the next route has a navbar, and if so we use a React internal tool to make a copy of that and pass in the route and navigator as props. (Note: cloneWithProps is deprecated and we probably should be using cloneElement: <a href="https://facebook.github.io/react/docs/clone-with-props.html">https://facebook.github.io/react/docs/clone-with-props.html</a>).</p>

<p>You can push a route from anywhere where you have a navigator instance. As you can see, you can simply pass it the component instance, as well as the title, navbar, props etc. One important thing to note below is the sceneConfig property. Here we are overriding the default navigation animation by providing the <code>Navigator.SceneConfigs.FloatFromBottom</code>. So, instead of <code>FloatFromRight</code>, our app will <code>FloatFromBottom</code> when transitioning in. =)</p>

<pre><code class="language-javascript">this.props.navigator.push({  
  title: 'Search',
  component: SearchList,
  navigationBar: &lt;NavigationBar title="Search"/&gt;,
  props: {
    query: this.state.input
  },
  sceneConfig: {
    ...Navigator.SceneConfigs.FloatFromBottom,
    gestures: {}
  }
})
</code></pre>

<p>That's all I have for the first segment. In the next segment I will jump into the actual code and discuss code structure and adding Flux to a RN app. =)</p>]]></description><link>http://localhost:2368/react-native-flux-and-music/</link><guid isPermaLink="false">b1247192-ca7d-46e7-b52f-ba546ac1b306</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Fri, 08 May 2015 23:49:50 GMT</pubDate></item><item><title><![CDATA[Building UI Components with Om, ClojureScript, and React]]></title><description><![CDATA[<p><a href="https://github.com/swannodette/om">Om</a> is a <a href="https://github.com/clojure/clojurescript">ClojureScript</a> interface to Facebook's <a href="https://github.com/facebook/react">React</a>. From their <a href="https://github.com/swannodette/om">github</a>:</p>

<blockquote>
  <p>Om allows users to represent their UIs simply as <a href="https://github.com/edn-format/edn">EDN</a>. Because ClojureScript data is immutable data, Om can always rapidly re-render the UI from the root. Thus Om UIs are out of the box snapshotable and undoable and these operations have no implementation complexity and little overhead.</p>
</blockquote>

<p>I'm going to walk through a very simple comments app. It has four main components:</p>

<ul>
<li>Comments Box</li>
<li>Comments List</li>
<li>Comment</li>
<li>Input</li>
</ul>

<p>Om uses React under the hood so the components will be written in the standard React notation.</p>

<p>The first thing we want to do is to define our global state model. We'll represent the comments list as a vector of comments which are composed of author and text properties that both as strings:</p>

<pre><code class="language-javascript">(def app-state
  (atom
    {:data {:comments [{ :author "Commenter 1" :text "comment 1" }
                       { :author "Commenter 2" :text "comment 2" }]}}))
</code></pre>

<p>Next, we'll start building our mini app from the top down. So we'll start at the root node. The root node will take one parameter which will be the app state we just defined above. The root node will have three children: an h2 element, a CommentBox react component, and an Input react component. It will pass the Map from :data into the CommentBox and Input so that they can use that data as they please.</p>

<pre><code class="language-javascript">(defn my-app [global]
  (reify
    om/IRender
    (render [this]
      (dom/div nil
               (dom/h2 nil "A mini comments app using clojurescript and react")
               (om/build CommentBox (:data global))
               (om/build Input (:data global))))))
</code></pre>

<p>Next, we'll tackle the CommentBox component. The CommentBox should be very simple, it should only have one child who is a CommentList who takes in the :comments vector from the Immutable Map that we passed to it:</p>

<pre><code class="language-javascript">(defn CommentBox
  [comments owner]
  (reify
    om/IRender
    (render [_]
      (dom/div nil
               (om/build CommentList (:comments comments))))))
</code></pre>

<p>Pretty simple right? Let's keep going! Naturally the CommentList component will come next. Again, the CommentList should be very simplistic. All that it is going to do is traverse the comments in the :comments vector and output a Comment component for each one. We'll use Om's <a href="https://github.com/swannodette/om/wiki/Documentation#build-all">build-all</a> which will return a sequence of Om components for the comments in the :comments vector:</p>

<pre><code class="language-javascript">(defn CommentList
  [comments-data]
  (reify
    om/IRender
    (render [_]
      (dom/div nil
               (apply
                 dom/ul nil
                 (om/build-all Comment comments-data)))))) ;; build-all iterates over a sequence and builds a component for each item
</code></pre>

<p>And then a leaf node for a CommentBox would be a Comment component. A Comment should be the most minimalistic component yet. It simply takes a single comment object as input from the app state :comments vector and displays the :author and :text fields to the UI. Here is what this code looks like:</p>

<pre><code class="language-javascript">(defn Comment
  [comment]
  (reify
    om/IRender
    (render [_]
      (dom/div nil
               (dom/h2 nil (str (:author comment)) ": " (str (:text comment)))))))
</code></pre>

<p>Finally, it wouldn't be a very useful little demo if the user could not submit their own comments now would it? Our input component will mainly do two things, it will store the state of the user input and it will add to the comments vector once a user submits the comment. </p>

<pre><code class="language-javascript">(defn handle-change [e owner {:keys [text]}]
  (om/set-state! owner :text (.. e -target -value)))

(defn handle-submit [e owner {:keys [text]} comments]
  (println "comments: " @comments)
  ;; When you trasact! or update!, you need to pass cursor, key(s) where the cursor will be updated and the data/function
  (om/transact! comments :comments #(conj % {:author "Guest" :text text}))
  (om/set-state! owner :text ""))

(defn Input
  [comments owner]
  (reify
    om/IInitState
    (init-state [_]
      {:text nil})
    om/IRenderState
    (render-state [_ state]
      (dom/div nil
               (dom/input #js
                          {:type "text"
                           :ref "text-field"
                           :value (:text state)
                           :onChange (fn [event] (handle-change event owner state))})
               (dom/button
                 #js { :onClick (fn [event] (handle-submit event owner state comments))}
                 "submit")))))
</code></pre>

<p>As you can see from the above code, the handle-submit function transitions the application state with <a href="https://github.com/swannodette/om/wiki/Documentation#transact">transact!</a> by performing a <a href="https://clojuredocs.org/clojure.core/conj">conj</a> on the :comments vector with the latest comment. It then erases the text input back to empty. </p>

<p>The code for this is <a href="https://github.com/mjw56/cljs-playground">here</a>. It's running using <a href="http://plexus.github.io/chestnut/index.html">Chestnut</a>. It's pretty rad, <a href="https://github.com/swannodette">David Nolen</a> wrote a <a href="http://swannodette.github.io/2014/10/10/magic/">blog post</a> about it.</p>

<p>Shout out to <a href="https://github.com/annapawlicka">annapawlicka</a> in #clojurescript for helping to explain clojurescript to a total n00b. :) </p>]]></description><link>http://localhost:2368/a-simple-comments-app-with-om/</link><guid isPermaLink="false">85e82333-d5e8-4335-a3ed-60861348acc1</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Sun, 07 Dec 2014 23:39:14 GMT</pubDate></item><item><title><![CDATA[Async Server-Side Communication with the Flux Architecture]]></title><description><![CDATA[<p><img src="http://localhost:2368/content/images/2014/11/react-components-1.png" alt="alt"></p>

<p>I'd like to discuss how one might approach asynchronous interactions between the flux architecture and server-side for doing your typical save, delete, etc. Specifically for my example I'm using the <a href="https://github.com/BinaryMuse/fluxxor">Fluxxor</a> implementation of the flux architecture. You don't have to use fluxxor as you can just stick with <a href="https://github.com/facebook/flux">vanilla flux</a> or choose from one of the many other options out there (<a href="https://github.com/kenwheeler/mcfly">McFly</a>, <a href="https://github.com/spoike/refluxjs">Reflux</a>, <a href="https://github.com/deloreanjs/delorean">DeLorean</a>, <a href="https://github.com/jmreidy/fluxy">Fluxy</a>). I'm using node and mongo on the backend and communicating to it via websockets. It could easily be ASP.NET or any backend of your choosing using ajax. I believe this approach fits nicely within their architecture. If you're not familiar with what the Flux architecture is then go read the <a href="http://facebook.github.io/flux/docs/overview.html">official docs</a>.                 Then, if you're interested in the Fluxxor implementation, hop on over to the <a href="http://fluxxor.com/what-is-flux.html">fluxxor docs</a>. I would advise familiarizing yourself with the overall flow of the flux architecture before continuing.</p>

<p><img src="http://localhost:2368/content/images/2014/11/flux-diagram-white-background.png" alt="alt"></p>

<p>So as you can see from the diagram above, flux concentrates on a single data flow direcion. </p>

<p>In Summary:</p>

<ul>
<li>The user triggers an event on the UI which the component can respond to with an action creator</li>
<li>The action creator can "leave the main flux loop" to get/post data to the server. Once this is completed, the action creators can then continue creating an action in response to an event on the UI.</li>
<li>The action creator dispatches the action via the Dispatcher</li>
<li>Stores can register with the Dispatcher and provide it a callback which allows the dispatcher to hook into the store for certain events the store is interested in.</li>
<li>Stores update their state in response to the dispatched action and can then emit a change event which any React component can hear to tell it that something might need to be updated and re-rendered.</li>
</ul>

<p>For the purpose of this blog post I'll be focusing on step #2 from above:</p>

<p><img src="http://localhost:2368/content/images/2014/11/flux-server.png" alt="alt"></p>

<p>So, lets jump into some code shall we? First, I created a services module which strictly handles communicating to the server. It requires socket.io to talk to the server via events and Q for doing the async communcation via promises. Here is a simplified version of what this might look like:</p>

<pre><code class="language-javascript">var socket = require('socket.io-client')('localhost'),  
    Q = require('q');

var TodoService = {

  addTodo: function(todo) {
    var defer = Q.defer();

    socket.on('todo-added', function(todo) {
      defer.resolve(todo);
    });

    socket.emit('add-todo', todo);

    return defer.promise;
  },

  loadTodos: function(todos) {
    var defer = Q.defer();

    socket.on('init-data-payload', function(todos) {

      defer.resolve(todos);
    });

    socket.emit('get-init-data');

    return defer.promise;
  }

};

module.exports = TodoService;  
</code></pre>

<p>Secondly, in my action creators I have them communicate with this service to do any interactions they may need to do with the server. Once the interaction is complete with the server, the promise resolves and the action creator can dispatch the action with the relevant updated data. This might look someting like this:</p>

<pre><code class="language-javascript">var constants = require('../constants/constants'),  
    service = require('../services/todo-service');

var actions = {  
  addTodo: function(text) {
    var _this = this;
    service.addTodo({text: text}).then(function(todo) {
      _this.dispatch(constants.ADD_TODO, todo);
    });
  },

  loadTodos: function() {
    var _this = this;
    service.loadTodos().then(function(todos){
      _this.dispatch(constants.LOAD_TODOS, todos);
    });
  }

};

module.exports = actions;
</code></pre>

<p>And that is pretty much it. I have seen examples where different actions can be dispatched as a result of different responses from the server. I think this is a really nice approach and as this is an overly simplified implementation I did not include this. This can be useful for when you want to send data down to display a loading screen or some type of success/error messages etc.</p>

<p>I hope you found this post useful. I tried to keep it as simple as possible for the purpose of this post. The full code can be found on my <a href="https://github.com/mjw56/react-components">Github</a>. If you have any questions or comments please feel free to reach out to me on <a href="https://twitter.com/subr0utine">Twitter</a> or in the comments section below. Cheers!</p>]]></description><link>http://localhost:2368/handling-asynchronous-data-flow-in-flux/</link><guid isPermaLink="false">8932a38e-5ae2-4cbe-8d6a-b5f32058a823</guid><category><![CDATA[react]]></category><category><![CDATA[flux]]></category><category><![CDATA[server-side]]></category><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Sun, 30 Nov 2014 16:53:34 GMT</pubDate></item><item><title><![CDATA[Publishing a TypeScript package to npm]]></title><description><![CDATA[<p><img src="http://localhost:2368/content/images/2014/11/npm_typescript.png" alt="alt"></p>

<p>Recently I tried my hand at publishing a package to npm that was written in TypeScript. TypeScript is a nice way to write JavaScript because it has a type system which gives you instant feedback as you write your code and at compile time.  It's always nice to have that instant feedback as there are usually less surprises when you go to run your code in the browser. Another nice benefit is that you can start writing ES6-like code today! :D</p>

<p>My module is fairly simply as it is only one class with an external interface I use to define my query object. The module can be found <a href="https://github.com/mjw56/surfsup">here</a>. I am using <a href="http://gulpjs.com/">gulp</a> to automate my build process. I used <a href="https://www.npmjs.org/package/gulp-tsc">gulp-tsc</a> to compile the TypeScript in my gulp compile task. It is very straightforward and did the job well for this simple scenario. The only gotcha I ran into was how was my TypeScript going to compile itself before being sent off to the npm registry? The answer is in the <a href="https://www.npmjs.org/doc/misc/npm-scripts.html">scripts</a> property of the package.json. Inside of there we can do all sorts of awesome magic that will make sure our code is in the right state when a user wants to use our module in their code. Specifically for this use-case I used the prepublish property to run my gulp task to compile my TypeScript:</p>

<pre><code class="prettyprint javascript ">'scripts': {  
    'prepublish': 'gulp compile'
}
</code></pre>

<p>Now you're guaranteed that you'll be sending off valid JavaScript to the npm registry. Enjoy!</p>]]></description><link>http://localhost:2368/publishing-a-typescript-package-to-npm/</link><guid isPermaLink="false">390b8f0a-deae-492d-8f05-77d7136aea4c</guid><dc:creator><![CDATA[Mike Wilcox]]></dc:creator><pubDate>Sun, 16 Nov 2014 02:14:05 GMT</pubDate></item></channel></rss>